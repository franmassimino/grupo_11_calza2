<!DOCTYPE html>
<html lang="es">
    <%- include('../partials/head') %> 
<body>

    <%- include('../partials/header')  %> 

    <main>
        <div class="form-container">
            <h1>Crear nuevo producto</h1>
            <form action="/products/save" id="productForm" method="POST" enctype="multipart/form-data">

                <label for="marca">Marca</label>
                <select name="brand" id="marca" required>
                    <option value="" selected disabled>Elija una marca</option>
                    <% brands.forEach(brand => { %>
                        <option value="<%= brand.id %>">
                            <%= brand.name %>
                        </option>
                    <% }) %>
                </select>

                <label for="modelo">modelo</label>
                <input type="text" name="model" id="modelo" required>
                <small id='modelError' class='error'>El nombre del modelo debe tener por lo menos 5 caracteres</small>

                <label for="precio">precio</label>
                <input type="text" name="price" id="precio" required>

                <label for="descripcion">descripcion</label>
                <textarea name="description" id="descripcion" required></textarea>
                <small id="descriptionError" class='error'>La descripcion del producto debe tener por lo menos 20 caracteres</small>

                <label for="imagen">Imagen del producto</label>
                <input type="file" id="imagen" name="img" required>
                <small id="imageError" class='error'>La imagen del producto debe ser formato png, jpg, jpeg o gif</small>

                <fieldset id="categoria">
                    <legend>Categoria</legend>
                    <select name="category" class="categoria" required>
                        <option value="" selected disabled>Elija una categoria</option>
                        <% categories.forEach(category => { %>
                            <option value="<%= category.id %>">
                                <%= category.name %>
                            </option>
                        <% }) %>
                    </select>
                </fieldset>

                <fieldset id="colores">
                    <legend>Color</legend>
                    <select name="color" class="colores" required>
                        <option value="" selected disabled>Elija un color</option>
                        <% colors.forEach(color => { %>
                            <option value="<%= color.id %>">
                                <%= color.name %>
                            </option>
                        <% }) %>
                    </select>
                </fieldset>
                
                <button type="submit">Crear producto</button>
            </form>
        </div>
    </main>

    <%- include('../partials/footer')  %> 
    <script src="/js/productValidation.js"></script>

</body>
</html>
